# AIdit_CRISPR/Cas Prediction

### 1. System Requirements 
**The code were tested on Windows, Linux and Mac OS systems.**
### 2. Software/Packages Requirements and Installation Guide
**— python  3.6**  
```
wget https://www.python.org/ftp/python/3.6.9/Python-3.6.9.tgz  
tar -zxvf Python-3.6.9.tgz  
cd python-3.6.9  
./configure --prefix=/usr/local/python3.6 --enable-optimizations
make && make install
```

**— python packages:**   
```
pip install scipy==1.5.2
pip install numpy==1.19.5
pip install pandas==1.1.5  
pip install scikit-learn==0.21.1
pip install tensorflow==2.6.0
pip install keras==2.6.0
pip install xgboost==0.90
pip install matplotlib==3.3.4
pip install seaborn==0.11.1
pip install logomaker==0.8
pip install statsmodels==0.12.2 
```


### 3. Prediction Instructions
#### 3.1 For on-target
#### Firstly, to go into ./predictors/on-target folder
```
cd ./predictors/on-target
```
***
##### Example 1: to predict a single target sequence  
**param 1: a given cell line selected from [K562, Jurkat], e.g. K562**  
**param 2: a 63bp target sequence (20bp upstream + 20bp target + 3bp PAM + 20bp downstream)**  
**output: a indel efficiency generated by the corresponding model e.g. AIdit_K562_ON**

###### Demo 1:
```
python on_target_predict.py K562 ATTCACGAAGGGCTGCAGGAAGCGTACCCCCAGGTCTTGCAGGTCCTCGGGAGGCTTCACCTC
```


***
#### Example 2: to predict batch target sequences 
**param 1: a given cell line selected from [K562, Jurkat], e.g. cell=K562**  
**param 2: an input file path with a 'target sequence' column, which each sequence of your interest satistifies the 63bp fomat (i.e. 20bp upstream + 20bp target + 3bp PAM + 20bp downstream)**  
**param 3: an output directory to save your result predicted by the selected model e.g. AIdit_K562_ON.**  
**output: predicted_result_Aidit_ON_{cell}.txt in your designated output directory**  

###### Demo 2:
```
python predict.py K562 demo_dataset.txt ./result
```
***

#### 3.2 For off-target
#### To got into ./predictors/off-target folder
***
**param 1: an input file in which there are two columns *target sequence* and *off-target sequence*   
The column *target sequence*: 63bp wild-type sequence (20bp upstream + 20bp target + 3bp PAM + 20bp downstream)  
The column *off-target sequence*: 63bp off-target sequence (20bp upstream + 20bp off-target + 3bp PAM + 20bp downstream)**  
**param 2: an output directory to save your result**  
**output: predicted_result_Aidit_OFF.txt in your designated output directory**

###### Demo 3:
```
python off_target_predict.py demo_dataset.txt ./result
```
***

#### 3.3 For DSB repair outcomes
#### To go into ./predictors/DSB_repair folder
***
**param 1: a given cell line selected from [K562, Jurkat], e.g. cell=K562**  
**param 2: an input file with one column *target sequence*    
The column *target sequence*: 63bp wild-type sequence (20bp upstream + 20bp target + 3bp PAM + 20bp downstream)**  
**param 3: an output directory to save your result predicted by the selected model e.g. AIdit_K562_DSB.**  
**output: predicted_result_Aidit_DSB_{cell}.txt in your designated output directory**

###### Demo 4:
```
python DSB_repair_predict.py K562 demo_dataset.txt ./result
```
